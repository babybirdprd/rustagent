<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RustAgent DOM Utils Test Page</title>
</head>
<body>
    <h1>DOM Utilities Test Page</h1>

    <!-- For click_element -->
    <button id="testButton">Click Me</button>
    <span id="clickResult">Not Clicked</span>

    <!-- For type_in_element -->
    <input type="text" id="textInput" placeholder="Type here">

    <!-- For get_element_text -->
    <div id="textDisplay">Initial Text Content</div>
    <div id="emptyTextDisplay"></div>

    <!-- For get_element_value -->
    <input type="text" id="valueInput" value="Initial Value">

    <!-- For get_element_attribute and set_element_attribute -->
    <div id="attributeElement" data-test="initial_value" class="test-class">Attribute Test Element</div>

    <!-- For select_dropdown_option -->
    <select id="selectElement">
        <option value="val1">Option 1</option>
        <option value="val2" selected>Option 2</option>
        <option value="val3">Option 3</option>
    </select>

    <!-- For XPath testing -->
    <div id="xpathParent">
        <div data-xpath-target="true" class="xpath-class">XPath Target Text</div>
        <button id="xpathButton">XPath Button</button>
    </div>
    
    <!-- For testing error conditions -->
    <div id="nonInputDiv">This is a div, not an input.</div>
    <div id="nonSelectDiv">This is a div, not a select.</div>

    <hr>
    <h2>For GET_ALL_ATTRIBUTES Tests</h2>
    <ul id="listForAttrTest">
        <li class="attr-item" data-id="item-1" data-value="apple">Apple</li>
        <li class="attr-item" data-id="item-2">Banana (no data-value)</li>
        <li class="attr-item" data-id="item-3" data-value="cherry">Cherry</li>
        <li class="other-item" data-id="item-4" data-value="date">Date (different class)</li>
    </ul>
    <div class="attr-item" data-id="div-item-5" data-value="elderberry">Elderberry (div)</div>
    <div data-id="not-attr-item-6">Not an attr-item</div>

    <!-- Elements for testing XPath with GET_ALL_ATTRIBUTES -->
    <div id="xpathAttrContainer">
        <span class="xpath-attr" data-fruit="grape">Grape</span>
        <span class="xpath-attr" data-fruit="fig">Fig</span>
        <span class="xpath-attr">No data-fruit here</span>
    </div>

    <hr>
    <h2>For New Integration Tests</h2>
    <!-- Scenario 1: LLM-Suggested DOM Command Sequence -->
    <input type="text" id="testuser" placeholder="Username">
    <input type="password" id="testpass" placeholder="Password">
    <button id="testloginbtn">Login</button>
    <div id="loginStatus">Not logged in</div>

    <!-- Scenario 2: {{PREVIOUS_RESULT}} Placeholder -->
    <div id="dataelement">Expected Text for Placeholder Test</div>
    <input type="text" id="inputfield" placeholder="Input for placeholder test">


    <script>
        // Script for testButton click interaction
        const button = document.getElementById('testButton');
        const resultSpan = document.getElementById('clickResult');
        if (button && resultSpan) {
            button.addEventListener('click', () => {
                resultSpan.textContent = 'Button Clicked!';
            });
        }

        // Script for testloginbtn interaction
        const loginButton = document.getElementById('testloginbtn');
        const loginStatusDiv = document.getElementById('loginStatus');
        if (loginButton && loginStatusDiv) {
            loginButton.addEventListener('click', () => {
                const user = document.getElementById('testuser').value;
                const pass = document.getElementById('testpass').value;
                if (user === "testuser" && pass === "testpass") {
                    loginStatusDiv.textContent = 'Login Successful!';
                } else {
                    loginStatusDiv.textContent = 'Login Failed!';
                }
            });
        }
    </script>
</body>
</html>
